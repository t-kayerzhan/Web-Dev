<!DOCTYPE html>
<script>
    "use strict";

    // This will cause an error - this refers to the function context, not the object
    function makeUser() {
        return {
            name: "John",
            ref: this
        };
    }

    let user = makeUser();
    
    try {
        alert(user.ref.name); // Error: Cannot read property 'name' of undefined
    } catch(e) {
        alert("Error: " + e.message);
    }

    // Fixed version using method
    function makeUserFixed() {
        return {
            name: "John",
            ref() {
                return this;
            }
        };
    }

    let userFixed = makeUserFixed();
    alert(userFixed.ref().name); // John
</script>